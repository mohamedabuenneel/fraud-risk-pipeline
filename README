# Fraud Risk Data Pipeline with Airbyte, Snowflake, dbt, Airflow, and Soda

## ğŸ“Œ Project Overview
This project implements an end-to-end **fraud risk data pipeline** that consolidates customer transactions and fraud detection results from multiple sources, performs **data quality checks**, and publishes **customer risk metrics** to Snowflake for dashboarding.  

The goal is to showcase how modern data engineering tools can be combined to build reliable, auditable, and production-ready pipelines.

---

## ğŸ—ï¸ Architecture

![Pipeline Architecture](./assets/architecture.png)

**Workflow**
1. **Data Generation**  
   - Simulated Python scripts generate `customer_transactions` (Postgres) and `labeled_transactions` (MySQL).  
2. **Ingestion with Airbyte**  
   - Airbyte extracts data from Postgres & MySQL and loads into S3.  
   - Data is then written into Snowflake (raw + staging).  
3. **Data Quality with Soda**  
   - Soda validates transaction and fraud detection data before publishing.  
4. **Transform & Publish with dbt**  
   - dbt models create the `customer_metrics` table, including risk scores.  
5. **Orchestration with Airflow**  
   - Airflow orchestrates the entire workflow using the **Write â†’ Audit â†’ Publish** pattern.  
6. **Consumption**  
   - Final customer metrics are made available for dashboards (BI layer).

---

## âš™ï¸ Tech Stack
- **Airflow** â€“ workflow orchestration (daily DAGs)  
- **Airbyte** â€“ ELT ingestion from Postgres & MySQL â†’ S3 â†’ Snowflake  
- **Snowflake** â€“ cloud data warehouse (staging & analytics)  
- **dbt** â€“ transformations & metric publishing  
- **Soda** â€“ data quality checks on staging data  
- **Python** â€“ data generators (transactions & fraud labels)

---

## ğŸ“Š Data Flow
1. **Generate Data** â†’ Python scripts simulate customer & fraud transactions.  
2. **Extract & Load** â†’ Airbyte syncs raw data into S3.  
3. **Write to Warehouse** â†’ Airbyte loads into Snowflake staging.  
4. **Audit** â†’ Soda scans enforce data quality.  
5. **Publish** â†’ dbt transforms staging into analytics tables (`customer_metrics`).  
6. **Consume** â†’ BI dashboards display fraud risk scores.

---

## ğŸš€ How to Run
1. **Clone repo**
   ```bash
   git clone https://github.com/mohamedabuenneel/fraud-risk-pipeline.git
   cd fraud-risk-pipeline

